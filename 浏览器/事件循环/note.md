## 进程

- 程序运行需要有自己的内存空间，可以把这块内存空间简单理解为进程
- 每个应用至少拥有一个进程，进程间相互独立，即使通信，也需要双方同意

## 线程

- 就是用来运行代码的东西
- 在进程开启后会自动创建一个线程来运行代码，该线程称之为主线程
- 一个进程可以开启多个线程

## 浏览器有哪些进程和线程

- 浏览器是一个多进程和多线程的应用程序
  - 为什么多进程：为了减少连环崩坏的几率
- 主要进程
  - 浏览器进程
    - 主要负责界面展示(浏览器的布局(非具体页面的布局))、用户交互、子进程管理等
  - 网络进程
  - 渲染进程
    - 谷歌浏览器默认每个标签页开启一个新的渲染进程 (后续 chrome 可能会改成一个站点一个进程)
    - 渲染进程启动后，会开启一个渲染主线程
- 渲染主线程是如何工作的
  - 解析 html、css 然后布局等
  - 执行 js、事件函数、定时器函数等

## 其他

- 异步(无法立即执行的代码)
  - 计时器
    - 计时任务结束后，将回调函数放入消息队列末尾
  - 请求
  - 事件
- js 会阻塞页面绘制
- 任务优先级(W3C 最新解释)
  - 任务没有优先级，在消息队列中先进先出
  - 每个任务都有一个任务类型，同一个类型的任务必须在一个队列，但是一个队列可以包含多种类型的任务
  - 在一次事件循环中，浏览器可以根据实际情况从不同的任务队列中取出任务执行
  - 浏览器必须准备一个微队列，微队列中任务优先于所有其他所有任务
- 目前 chrome 至少包含下面的队列(优先级由高至低)
  - 微队列: Pormise.then MutationObserver，优先级最高
  - 交互队列: 优先级高
  - 延时队列: 优先级中
